<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="<%= user %>'s posts" />
    <title><%= user %>'s posts</title>

    <%- include('partials/bg_anim') %> <%- include('partials/scrollbar') %>
    <style>
      @font-face {
        font-family: "font";
        font-display: swap;
        src: url("/font.woff");
      }

      * {
        font-family: "font";
      }

      body {
        background-color: #171c20;
        background-image: url("/bg.png");
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 0;
        flex-direction: column;
      }

      a {
        color: inherit;
      }

      #title {
        color: #6bd425;
        font-size: 2rem;
        margin: 0.5rem 0 0.5rem 0;
      }

      #content {
        background-color: #2c363f;
        width: 50%;
        display: flex;
        flex-direction: column;
        align-items: center;
        margin: 1rem 0 3rem 0;
        outline: #495969 3px solid;
      }

      #posts {
        width: 100%;
        display: flex;
        flex-direction: column;
        padding: 1rem;
        background-color: #192025;
        box-sizing: border-box;
        gap: 1rem;
      }

      #error {
        color: #e75a7c;
        font-size: 1.25rem;
        text-align: center;
      }

      .post {
        font-size: 1.25rem;
        border-radius: 5px;
        padding: 0.5rem;
        box-sizing: border-box;
        outline: 3px solid #006372;
        color: #e75a7c;
        text-decoration: none;
        transition: 0.2s;
        position: relative;
      }

      .post:hover {
        outline: 3px solid #009fb7;
      }

      .post > .pin {
        position: absolute;
        top: -0.625rem;
        right: -0.625rem;
        outline: 3px solid #006372;
        background-color: #192025;
        aspect-ratio: 1/1;
        width: 1.25rem;
        border-radius: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .post:hover > .pin {
        outline: 3px solid #009fb7;
      }

      .post > .pin > img {
        width: 75%;
        transform: rotateZ(45deg);
      }

      @media (max-width: 768px) {
        #content {
          width: 90%;
        }

        #title {
          font-size: 1.5rem;
        }
      }
    </style>

    <%- include('partials/md') %>
  </head>

  <body>
    <div id="content">
      <span id="title"><a href="/">users</a> &gt; <%= user %></span>
      <div id="posts">
        <% if (posts.length == 0 && pinned_posts.length == 0) { %>
        <span id="error">This user has no posts...</span>
        <% } %>
        <% pinned_posts.forEach(post=> { %>
          <a href="/<%= user %>/<%= post.url %>" class="post" title="<%= post.mtime_formatted %> (UTC)">
          <span class="pin"><img src="/pinned.svg" alt="Pinned Post"></span>
          <%= post.title %> <% if (post.description ) { %>
          <span>- <%= post.description %></span>
          <% } %>
        <% }) %>
        <% posts.forEach(post=> { %>
        <a href="/<%= user %>/<%= post.url %>" class="post" title="<%= post.mtime_formatted %> (UTC)">
          <%= post.title %> <% if (post.description ) { %>
          <span>- <%= post.description %></span>
          <% } %>
        </a>
        <% }) %>
      </div>
    </div>

    <% if (about) { %>
    <div id="content">
      <span id="title">about</span>
      <div class="markdown-body"><%- about %></div>
    </div>
    <% } %> <%- include('partials/footer') %>
  </body>
</html>
